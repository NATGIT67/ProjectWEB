# คู่มือการติดตั้งและการใช้งานระบบ EasyRice (Rice E-Commerce System)

เอกสารนี้ครอบคลุมขั้นตอนการติดตั้งระบบสำหรับผู้ดูแลระบบ (Admin) และคู่มือการใช้งานฟังก์ชันต่างๆ ของเว็บไซต์สำหรับผู้ใช้งานทั่วไป

---

## สารบัญ

1. [ความต้องการของระบบ (System Requirements)](#1-ความต้องการของระบบ-system-requirements)
2. [ขั้นตอนการติดตั้ง (Installation Guide)](#2-ขั้นตอนการติดตั้ง-installation-guide)
3. [คู่มือการใช้งานสำหรับลูกค้า (User Manual)](#3-คู่มือการใช้งานสำหรับลูกค้า-user-manual)
4. [คู่มือการใช้งานสำหรับผู้ดูแลระบบ (Admin Manual)](#4-คู่มือการใช้งานสำหรับผู้ดูแลระบบ-admin-manual)

---

## 1. ความต้องการของระบบ (System Requirements)

ก่อนทำการติดตั้ง โปรดตรวจสอบว่าเครื่องคอมพิวเตอร์ของคุณมีโปรแกรมเหล่านี้ติดตั้งอยู่:

*   **Node.js**: เวอร์ชั่น 16.0.0 ขึ้นไป (แนะนำ 18.x หรือ 20.x LTS)
    *   ตรวจสอบด้วยคำสั่ง: `node -v`
*   **MySQL**: ฐานข้อมูล (แนะนำ XAMPP หรือ MySQL Workbench)
*   **Git**: สำหรับการดึงโค้ดโปรเจค (Optional)
*   **Web Browser**: Google Chrome, Firefox, หรือ Edge

---

## 2. ขั้นตอนการติดตั้ง (Installation Guide)

### 2.1 ดาวน์โหลดและติดตั้ง Dependencies

1.  เปิด Terminal (Command Prompt หรือ PowerShell)
2.  ไปยังโฟลเดอร์ของโปรเจค:
    ```bash
    cd d:/ProjectWEB
    ```
3.  ติดตั้งชุดคำสั่งที่จำเป็น (Dependencies):
    ```bash
    npm install
    cd backend
    npm install
    ```

### 2.2 การตั้งค่าฐานข้อมูล (Database Setup)

1.  เปิดโปรแกรมจัดการฐานข้อมูล (เช่น phpMyAdmin หรือ MySQL Workbench)
2.  สร้างฐานข้อมูลชื่อ `easyrice_db` (ถ้ายังไม่มี)
3.  นำเข้าไฟล์โครงสร้างฐานข้อมูล:
    *   ไปที่ tab **Import**
    *   เลือกไฟล์ `backend/database.sql`
    *   กด **Go** หรือ **Import**

### 2.3 การตั้งค่า Environment Variables (.env)

สร้างไฟล์ `.env` ในโฟลเดอร์ `backend/` โดยมีค่าดังนี้:

```env
PORT=5000
DB_HOST=localhost
DB_USER=root
DB_PASSWORD=
DB_NAME=easyrice_db
JWT_SECRET=your_secret_key_change_this
```
*   หมายเหตุ: แก้ไข `DB_USER` และ `DB_PASSWORD` ให้ตรงกับเครื่องของคุณ

### 2.4 การรันเซิร์ฟเวอร์ (Run Server)

1.  ใน Terminal ไปที่โฟลเดอร์ `backend`:
    ```bash
    cd backend
    ```
2.  สั่งรันเซิร์ฟเวอร์:
    ```bash
    npm start
    ```
3.  หากขึ้นข้อความว่า `Server is running!` แสดงว่าติดตั้งสำเร็จ
4.  เปิดเว็บไซต์ได้ที่: `http://localhost:5000`

---

## 3. คู่มือการใช้งานสำหรับลูกค้า (User Manual)

### 3.1 การสมัครสมาชิกและเข้าสู่ระบบ
1.  คลิกที่ปุ่ม **"เข้าสู่ระบบ"** ที่มุมขวาบน
2.  หากยังไม่มีบัญชี คลิก **"สมัครสมาชิก"** กรอกข้อมูลให้ครบถ้วน
3.  หากลืมรหัสผ่าน คลิก **"ลืมรหัสผ่าน?"** ระบุเบอร์โทรศัพท์เพื่อรับ OTP (จำลอง) และตั้งรหัสผ่านใหม่

### 3.2 การเลือกซื้อสินค้า
1.  ไปที่หน้า **"สินค้า"** หรือเลือกจากหน้าแรก
2.  คลิกที่สินค้าที่สนใจเพื่อดูรายละเอียด
3.  กด **"ซื้อเลย"** จะนำท่านไปสู่หน้าสั่งซื้อ
4.  **ระบุรายละเอียดการสั่งซื้อ**:
    *   ชื่อ, เบอร์โทร, ที่อยู่จัดส่ง
    *   ปักหมุดตำแหน่งจัดส่งบนแผนที่
    *   ระบุจำนวน (ถาด) หรือเลือก **"บริการรถดำนา"** (ระบุจำนวนไร่)
5.  **เลือกรูปแบบการชำระเงิน**:
    *   **จ่ายเต็มจำนวน**: ชำระยอดทั้งหมดทันที
    *   **สั่งซื้อ (มัดจำ 50%)**: ชำระครึ่งหนึ่งก่อนเพื่อยืนยันออเดอร์

### 3.3 การชำระเงินและแจ้งโอน
1.  ตรวจสอบยอดเงินที่ต้องชำระ
2.  สแกน QR Code เพื่อโอนเงิน
3.  คลิกที่กรอบสี่เหลี่ยมเพื่อ **แนบรูปสลิป**
4.  กดปุ่ม **"แจ้งชำระเงินและเสร็จสิ้น"**

### 3.4 การติดตามสถานะและประวัติ
1.  คลิกที่ชื่อผู้ใช้มุมขวาบน เลือก **"โปรไฟล์ของฉัน"**
2.  ในส่วน **"ประวัติการสั่งซื้อ"** จะแสดงรายการที่ท่านเคยสั่งซื้อและสถานะปัจจุบัน

---

## 4. คู่มือการใช้งานสำหรับผู้ดูแลระบบ (Admin Manual)

### 4.1 การเข้าสู่ระบบ Admin
1.  เข้าสู่ระบบด้วยบัญชีที่มีสิทธิ์ Admin
2.  ระบบจะพาไปที่หน้า **Admin Panel** โดยอัตโนมัติ หรือคลิกที่เมนู **"Admin Panel"** (สีแดง) บนแถบเมนู

### 4.2 แดชบอร์ด (Dashboard)
หน้าแรกของ Admin Panel แสดงภาพรวมระบบ:
*   **ต้นกล้าทั้งหมด**: จำนวนสายพันธุ์ที่มีขาย
*   **คำสั่งซื้อวันนี้**: จำนวนออเดอร์ใหม่ประจำวัน
*   **รอการชำระเงิน**: ออเดอร์ที่รอยืนยัน
*   **สั่งซื้อสำเร็จ**: จำนวนออเดอร์ที่เสร็จสมบูรณ์
*   **กำลังใช้งาน**: จำนวนผู้ใช้ที่ออนไลน์อยู่ (Real-time)

### 4.3 การจัดการคำสั่งซื้อ (Manage Orders)
เมนู **"จัดการคำสั่งซื้อ"**:
1.  ตารางแสดงรายการสั่งซื้อทั้งหมด เรียงจากใหม่ไปเก่า
2.  คลิกปุ่ม **"ดูรายละเอียด"** (สีน้ำเงิน) เพื่อตรวจสอบข้อมูลลูกค้าและสลิปโอนเงิน
3.  **ตรวจสอบการชำระเงิน**:
    *   หากเป็นมัดจำ: ยอดที่จ่ายและยอดคงเหลือ (ตัวหนังสือสีแดง) จะแสดงชัดเจน
4.  **เปลี่ยนสถานะ**:
    *   กด **"ยืนยัน"** (สีเขียว/ส้ม) เมื่อตรวจสอบยอดเงินแล้ว
    *   กด **"ยกเลิก"** (สีแดง) หากสลิปไม่ถูกต้อง
5.  เมื่อส่งมอบสินค้าแล้ว สามารถกด **"จบการขาย"** เพื่อย้ายออเดอร์ไปเก็บในประวัติ

### 4.4 การจัดการสินค้า (Manage Products)
เมนู **"จัดการสินค้า/ต้นกล้า"**:
1.  กดปุ่ม **"+ เพิ่มต้นกล้า"** เพื่อลงสินค้าใหม่
2.  แก้ไข/ลบ สินค้าที่มีอยู่ได้

### 4.5 การจัดการผู้ใช้งาน (Users)
เมนู **"ผู้ใช้งาน"**:
1.  ดูรายชื่อสมาชิกทั้งหมด
2.  ปรับสถานะผู้ใช้ (User <-> Admin)
3.  ลบบัญชีผู้ใช้

### 4.6 รายงานข้อความ (Reports)
เมนู **"ข้อความจากทางบ้าน"**:
1.  อ่านข้อความที่ลูกค้าส่งมาจากหน้า "ติดต่อเรา"
